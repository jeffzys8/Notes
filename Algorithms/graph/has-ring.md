# 图中是否有环

## 无向图

**方法1**

我们知道对于环1-2-3-4-1，每个节点的度都是2，基于此我们有如下算法（这是类似于有向图的拓扑排序）：

求出图中所有顶点的度，
删除图中所有度<=1的顶点以及与该顶点相关的边，把与这些边相关的顶点的度减一
如果还有度<=1的顶点重复步骤2
最后如果还存在未被删除的顶点，则表示有环；否则没有环

**方法2**

BFS，首先通过广度遍历（BFS）访问图的所有点，对于每个点，都检测和已访问过的点是否有边（除了和它连接的上层那个节点），如果有边，说明有回路（有环）。如果对于每个点，都没有和已访问过的点有边，说明从该点出发的当前图没有回路（无环）。如果从任意点开始的BFS，以上操作均说明无回路，才能说明没有回路。

**方法3**

根据图边的类型，参考另一篇[笔记](edgetype/edgetype.md)

## 有向图 

DAG(有向无环图)

**方法1**

同无向图的方法1，但是改为删in-degree=0的点，并把原来连接的节点out-degree-1

> 依次删去的点构成 **[拓扑排序](topo-sort.go)**

**方法2**

dfs，新的边 a-->b 且 b 已经在栈中



**方法3**

同样参考图边的类型，参考另一篇[笔记](edgetype/edgetype.md)


