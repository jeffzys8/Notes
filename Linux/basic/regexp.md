# 正则表达式

- 用于字符串的 查找/替换/删除 工作，它是个文法不是一个程序，要用支持这种文法的程序（`sed`, `awk`等）
- 拓展正则表达式：支持 and or 之类的
- **命令要加`' '`表明字符串**
- 通配符和正则不一样！有冲突
  - 比如`*`通配任意字符，而正则里是重复前一个字符0+次
  - 通配符见[bash笔记](bash.md)

## 特殊符号

使用正则表达式要注意语系环境，否则编码不同选出来的范围可能不同。为此，有一些特殊符号可以用于代替 `[AZ]` 这样的表达：
|符号|含义|
|--|--|
|[:alnum:]|	代表英文大小写字元及数字，亦即0-9, AZ, az
|[:alpha:]|	代表任何英文大小写字元，亦即AZ, az
|[:blank:]|	代表空白键与[Tab] 按键两者
|[:cntrl:]|	代表键盘上面的控制按键，亦即包括CR, LF, Tab, Del.. 等等
|[:digit:]|	代表数字而已，亦即0-9
|[:graph:]|	除了空白字元(空白键与[Tab] 按键) 外的其他所有按键
|[:lower:]|	代表小写字元，亦即az
|[:print:]|	代表任何可以被列印出来的字元
|[:punct:]|	代表标点符号(punctuation symbol)，亦即：" ' ? ! ; : # $...
|[:upper:]|	代表大写字元，亦即AZ
|[:space:]|	任何会产生空白的字元，包括空白键, [Tab], CR 等等
|[:xdigit:]|	代表16 进位的数字类型，因此包括： 0-9, AF, af 的数字与字元

## 基本正则语法

- `[]` 匹配括号里的一个字符，
  - 比如`[asd]`
  - `[a-z]`可以匹配范围，但要看语系编码
  - 用特殊符号的话就类似 `[[:alnum:]]`的形式
  - `[^..]`反选（注意这里的^是中括号内）
- `^` 匹配首，`$` 匹配尾
  - `^` 写在开头
  - `$` 写在末尾
  - `^$` 匹配空行**
  - 例：行尾为小数点 `\.$` 因为 `.`有特殊含义需要转义
- `.`任意一个字符，`*`前一个字符0+次
  - 例：g开头，g结尾，中间任意字符：不是`'g*g'`！会把单个g也匹配了，应该是`'g.*g'`
- `{}`限定范围内的连续字符数量
  - 要加上`\`转义(why?) 比如 `o\{2,5\}` 表示2-5个o

> 再次强调！不要把bash的通配符和正则表达式混在一起了！

## 拓展正则语法

> 比如`grep`命令要额外加参数才能用拓展正则

## `sed`

## `awk`